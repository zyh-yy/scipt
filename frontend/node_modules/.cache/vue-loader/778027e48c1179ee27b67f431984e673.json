{"remainingRequest":"C:\\Users\\zhuyu\\Desktop\\study\\lijialu\\scipt\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zhuyu\\Desktop\\study\\lijialu\\scipt\\frontend\\src\\views\\ScheduledTasks.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\zhuyu\\Desktop\\study\\lijialu\\scipt\\frontend\\src\\views\\ScheduledTasks.vue","mtime":1747319029012},{"path":"C:\\Users\\zhuyu\\Desktop\\study\\lijialu\\scipt\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747314279003},{"path":"C:\\Users\\zhuyu\\Desktop\\study\\lijialu\\scipt\\frontend\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1747314323395},{"path":"C:\\Users\\zhuyu\\Desktop\\study\\lijialu\\scipt\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747314279003},{"path":"C:\\Users\\zhuyu\\Desktop\\study\\lijialu\\scipt\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1747314281934}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ1NjaGVkdWxlZFRhc2tzVmlldycsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRhc2tzOiBbXSwNCiAgICAgIHNjcmlwdHM6IFtdLA0KICAgICAgY2hhaW5zOiBbXSwNCiAgICAgIGxvYWRpbmc6IGZhbHNlLA0KICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsDQogICAgICBhY3RpdmVGaWx0ZXI6IG51bGwsDQogICAgICBzYXZpbmc6IGZhbHNlLA0KICAgICAgZXhlY3V0aW9uVGFyZ2V0OiAnc2NyaXB0JywNCiAgICAgIHBhcmFtc1N0cmluZzogJycsDQogICAgICANCiAgICAgIGVkaXRpbmdUYXNrOiB7DQogICAgICAgIGlkOiBudWxsLA0KICAgICAgICBuYW1lOiAnJywNCiAgICAgICAgZGVzY3JpcHRpb246ICcnLA0KICAgICAgICBzY2hlZHVsZV90eXBlOiAnY3JvbicsDQogICAgICAgIGNyb25fZXhwcmVzc2lvbjogJycsDQogICAgICAgIHNjcmlwdF9pZDogbnVsbCwNCiAgICAgICAgY2hhaW5faWQ6IG51bGwsDQogICAgICAgIHBhcmFtczogbnVsbCwNCiAgICAgICAgaXNfYWN0aXZlOiAxDQogICAgICB9LA0KICAgICAgDQogICAgICBydWxlczogew0KICAgICAgICBuYW1lOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeS7u+WKoeWQjeensCcsIHRyaWdnZXI6ICdibHVyJyB9XSwNCiAgICAgICAgc2NoZWR1bGVfdHlwZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nosIPluqbnsbvlnosnLCB0cmlnZ2VyOiAnY2hhbmdlJyB9XSwNCiAgICAgICAgY3Jvbl9leHByZXNzaW9uOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpUNyb27ooajovr7lvI8nLCB0cmlnZ2VyOiAnYmx1cicgfV0sDQogICAgICAgIHNjcmlwdF9pZDogW3sgDQogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsIA0KICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nohJrmnKwnLCANCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJywNCiAgICAgICAgICB2YWxpZGF0b3I6IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsNCiAgICAgICAgICAgIGlmICh0aGlzLmV4ZWN1dGlvblRhcmdldCA9PT0gJ3NjcmlwdCcgJiYgIXZhbHVlKSB7DQogICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36YCJ5oup6ISa5pysJykpDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBjYWxsYmFjaygpDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9XSwNCiAgICAgICAgY2hhaW5faWQ6IFt7IA0KICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLCANCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup6ISa5pys6ZO+JywgDQogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScsDQogICAgICAgICAgdmFsaWRhdG9yOiAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7DQogICAgICAgICAgICBpZiAodGhpcy5leGVjdXRpb25UYXJnZXQgPT09ICdjaGFpbicgJiYgIXZhbHVlKSB7DQogICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6K+36YCJ5oup6ISa5pys6ZO+JykpDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBjYWxsYmFjaygpDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9XQ0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBwYXJhbXNTdHJpbmc6IHsNCiAgICAgIGhhbmRsZXIodmFsKSB7DQogICAgICAgIGlmICh2YWwpIHsNCiAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgdGhpcy5lZGl0aW5nVGFzay5wYXJhbXMgPSBKU09OLnBhcnNlKHZhbCkNCiAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAvLyDkuI3mmK/mnInmlYjnmoRKU09O77yM5L+d55WZ5a2X56ym5LiyDQogICAgICAgICAgICBjb25zb2xlLmxvZygn5Y+C5pWw5LiN5piv5pyJ5pWI55qESlNPTuagvOW8jycpDQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuZWRpdGluZ1Rhc2sucGFyYW1zID0gbnVsbA0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMubG9hZFRhc2tzKCkNCiAgICB0aGlzLmxvYWRTY3JpcHRzKCkNCiAgICB0aGlzLmxvYWRDaGFpbnMoKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgYXN5bmMgbG9hZFRhc2tzKCkgew0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQ0KICAgICAgdHJ5IHsNCiAgICAgICAgbGV0IHVybCA9ICcvYXBpL3NjaGVkdWxlJw0KICAgICAgICBpZiAodGhpcy5hY3RpdmVGaWx0ZXIgIT09IG51bGwpIHsNCiAgICAgICAgICB1cmwgKz0gYD9pc19hY3RpdmU9JHt0aGlzLmFjdGl2ZUZpbHRlcn1gDQogICAgICAgIH0NCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQodXJsKQ0KICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAwKSB7DQogICAgICAgICAgdGhpcy50YXNrcyA9IHJlc3BvbnNlLmRhdGEuZGF0YQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8ICfojrflj5blrprml7bku7vliqHliJfooajlpLHotKUnKQ0KICAgICAgICB9DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmVycm9yKCfliqDovb3lrprml7bku7vliqHlpLHotKU6JywgZXJyb3IpDQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WKoOi9veWumuaXtuS7u+WKoeWksei0pTogJyArIGVycm9yLm1lc3NhZ2UpDQogICAgICB9IGZpbmFsbHkgew0KICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KICAgICAgfQ0KICAgIH0sDQogICAgDQogICAgYXN5bmMgbG9hZFNjcmlwdHMoKSB7DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgnL2FwaS9zY3JpcHRzJykNCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMCkgew0KICAgICAgICAgIHRoaXMuc2NyaXB0cyA9IHJlc3BvbnNlLmRhdGEuZGF0YQ0KICAgICAgICB9DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmVycm9yKCfliqDovb3ohJrmnKzliJfooajlpLHotKU6JywgZXJyb3IpDQogICAgICB9DQogICAgfSwNCiAgICANCiAgICBhc3luYyBsb2FkQ2hhaW5zKCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoJy9hcGkvY2hhaW5zJykNCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMCkgew0KICAgICAgICAgIHRoaXMuY2hhaW5zID0gcmVzcG9uc2UuZGF0YS5kYXRhDQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WKoOi9veiEmuacrOmTvuWIl+ihqOWksei0pTonLCBlcnJvcikNCiAgICAgIH0NCiAgICB9LA0KDQogICAgZ2V0U2NoZWR1bGVUeXBlVGV4dCh0eXBlKSB7DQogICAgICBjb25zdCBtYXAgPSB7DQogICAgICAgICdjcm9uJzogJ0Nyb27ooajovr7lvI8nLA0KICAgICAgICAnaW50ZXJ2YWwnOiAn5pe26Ze06Ze06ZqUJywNCiAgICAgICAgJ2RhdGUnOiAn5oyH5a6a5pel5pyfJw0KICAgICAgfQ0KICAgICAgcmV0dXJuIG1hcFt0eXBlXSB8fCB0eXBlDQogICAgfSwNCg0KICAgIG9wZW5UYXNrRm9ybSh0YXNrID0gbnVsbCkgew0KICAgICAgdGhpcy5yZXNldEZvcm0oKQ0KICAgICAgDQogICAgICBpZiAodGFzaykgew0KICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZWRpdGluZ1Rhc2ssIHRhc2spDQogICAgICAgIA0KICAgICAgICAvLyDorr7nva7miafooYznm67moIcNCiAgICAgICAgaWYgKHRhc2suc2NyaXB0X2lkKSB7DQogICAgICAgICAgdGhpcy5leGVjdXRpb25UYXJnZXQgPSAnc2NyaXB0Jw0KICAgICAgICB9IGVsc2UgaWYgKHRhc2suY2hhaW5faWQpIHsNCiAgICAgICAgICB0aGlzLmV4ZWN1dGlvblRhcmdldCA9ICdjaGFpbicNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8g5bCG5Y+C5pWw5a+56LGh6L2s5Li6SlNPTuWtl+espuS4sg0KICAgICAgICBpZiAodGFzay5wYXJhbXMpIHsNCiAgICAgICAgICBpZiAodHlwZW9mIHRhc2sucGFyYW1zID09PSAnc3RyaW5nJykgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgdGhpcy5wYXJhbXNTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShKU09OLnBhcnNlKHRhc2sucGFyYW1zKSwgbnVsbCwgMikNCiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgdGhpcy5wYXJhbXNTdHJpbmcgPSB0YXNrLnBhcmFtcw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLnBhcmFtc1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KHRhc2sucGFyYW1zLCBudWxsLCAyKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLnBhcmFtc1N0cmluZyA9ICcnDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIA0KICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZQ0KICAgIH0sDQoNCiAgICByZXNldEZvcm0oKSB7DQogICAgICB0aGlzLmVkaXRpbmdUYXNrID0gew0KICAgICAgICBpZDogbnVsbCwNCiAgICAgICAgbmFtZTogJycsDQogICAgICAgIGRlc2NyaXB0aW9uOiAnJywNCiAgICAgICAgc2NoZWR1bGVfdHlwZTogJ2Nyb24nLA0KICAgICAgICBjcm9uX2V4cHJlc3Npb246ICcnLA0KICAgICAgICBzY3JpcHRfaWQ6IG51bGwsDQogICAgICAgIGNoYWluX2lkOiBudWxsLA0KICAgICAgICBwYXJhbXM6IG51bGwsDQogICAgICAgIGlzX2FjdGl2ZTogMQ0KICAgICAgfQ0KICAgICAgDQogICAgICB0aGlzLmV4ZWN1dGlvblRhcmdldCA9ICdzY3JpcHQnDQogICAgICB0aGlzLnBhcmFtc1N0cmluZyA9ICcnDQogICAgICANCiAgICAgIGlmICh0aGlzLiRyZWZzLnRhc2tGb3JtKSB7DQogICAgICAgIHRoaXMuJHJlZnMudGFza0Zvcm0ucmVzZXRGaWVsZHMoKQ0KICAgICAgfQ0KICAgIH0sDQogICAgDQogICAgaGFuZGxlVGFyZ2V0Q2hhbmdlKHRhcmdldCkgew0KICAgICAgaWYgKHRhcmdldCA9PT0gJ3NjcmlwdCcpIHsNCiAgICAgICAgdGhpcy5lZGl0aW5nVGFzay5jaGFpbl9pZCA9IG51bGwNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuZWRpdGluZ1Rhc2suc2NyaXB0X2lkID0gbnVsbA0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBhc3luYyBzYXZlVGFzaygpIHsNCiAgICAgIGlmICghdGhpcy4kcmVmcy50YXNrRm9ybSkgcmV0dXJuDQogICAgICANCiAgICAgIHRoaXMuJHJlZnMudGFza0Zvcm0udmFsaWRhdGUoYXN5bmMgKHZhbGlkKSA9PiB7DQogICAgICAgIGlmICghdmFsaWQpIHJldHVybg0KICAgICAgICANCiAgICAgICAgLy8g5qOA5p+l5omn6KGM55uu5qCH5piv5ZCm5bey6YCJ5oupDQogICAgICAgIGlmICghdGhpcy5lZGl0aW5nVGFzay5zY3JpcHRfaWQgJiYgIXRoaXMuZWRpdGluZ1Rhc2suY2hhaW5faWQpIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+mAieaLqeiEmuacrOaIluiEmuacrOmTvicpDQogICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIHRoaXMuc2F2aW5nID0gdHJ1ZQ0KICAgICAgICANCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAvLyDlh4blpIfopoHlj5HpgIHnmoTmlbDmja4NCiAgICAgICAgICBjb25zdCB0YXNrRGF0YSA9IHsgLi4udGhpcy5lZGl0aW5nVGFzayB9DQogICAgICAgICAgDQogICAgICAgICAgLy8g5aSE55CG5Y+C5pWwDQogICAgICAgICAgaWYgKHRoaXMucGFyYW1zU3RyaW5nKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICB0YXNrRGF0YS5wYXJhbXMgPSBKU09OLnBhcnNlKHRoaXMucGFyYW1zU3RyaW5nKQ0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+WPguaVsOagvOW8j+S4jeato+ehru+8jOivt+ajgOafpUpTT07moLzlvI8nKQ0KICAgICAgICAgICAgICB0aGlzLnNhdmluZyA9IGZhbHNlDQogICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0YXNrRGF0YS5wYXJhbXMgPSBudWxsDQogICAgICAgICAgfQ0KICAgICAgICAgIA0KICAgICAgICAgIGxldCByZXNwb25zZQ0KICAgICAgICAgIA0KICAgICAgICAgIGlmICh0aGlzLmVkaXRpbmdUYXNrLmlkKSB7DQogICAgICAgICAgICAvLyDmm7TmlrDnjrDmnInku7vliqENCiAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucHV0KGAvYXBpL3NjaGVkdWxlLyR7dGhpcy5lZGl0aW5nVGFzay5pZH1gLCB0YXNrRGF0YSkNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgLy8g5Yib5bu65paw5Lu75YqhDQogICAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoJy9hcGkvc2NoZWR1bGUnLCB0YXNrRGF0YSkNCiAgICAgICAgICB9DQogICAgICAgICAgDQogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMCkgew0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCAn5L+d5a2Y5a6a5pe25Lu75Yqh5oiQ5YqfJykNCiAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlDQogICAgICAgICAgICB0aGlzLmxvYWRUYXNrcygpDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8ICfkv53lrZjlrprml7bku7vliqHlpLHotKUnKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICBjb25zb2xlLmVycm9yKCfkv53lrZjlrprml7bku7vliqHlpLHotKU6JywgZXJyb3IpDQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5L+d5a2Y5a6a5pe25Lu75Yqh5aSx6LSlOiAnICsgZXJyb3IubWVzc2FnZSkNCiAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICB0aGlzLnNhdmluZyA9IGZhbHNlDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCg0KICAgIGFzeW5jIHRvZ2dsZUFjdGl2ZSh0YXNrKSB7DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCBuZXdTdGF0dXMgPSB0YXNrLmlzX2FjdGl2ZSA/IDAgOiAxDQogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucHV0KGAvYXBpL3NjaGVkdWxlLyR7dGFzay5pZH0vYWN0aXZlYCwgew0KICAgICAgICAgIGlzX2FjdGl2ZTogbmV3U3RhdHVzDQogICAgICAgIH0pDQogICAgICAgIA0KICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAwKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCBg5a6a5pe25Lu75YqhJHtuZXdTdGF0dXMgPyAn5ZCv55SoJyA6ICfnpoHnlKgnfeaIkOWKn2ApDQogICAgICAgICAgdGhpcy5sb2FkVGFza3MoKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8ICfmk43kvZzlpLHotKUnKQ0KICAgICAgICB9DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmVycm9yKCfliIfmjaLku7vliqHnirbmgIHlpLHotKU6JywgZXJyb3IpDQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+aTjeS9nOWksei0pTogJyArIGVycm9yLm1lc3NhZ2UpDQogICAgICB9DQogICAgfSwNCg0KICAgIGNvbmZpcm1EZWxldGUodGFzaykgew0KICAgICAgdGhpcy4kY29uZmlybSgNCiAgICAgICAgYOehruWumuimgeWIoOmZpOWumuaXtuS7u+WKoSAiJHt0YXNrLm5hbWV9IiDlkJfvvJ/liKDpmaTlkI7lsIbml6Dms5XmgaLlpI3jgIJgLA0KICAgICAgICAn5Yig6Zmk56Gu6K6kJywNCiAgICAgICAgew0KICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCiAgICAgICAgICB0eXBlOiAnd2FybmluZycNCiAgICAgICAgfQ0KICAgICAgKS50aGVuKGFzeW5jICgpID0+IHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmRlbGV0ZShgL2FwaS9zY2hlZHVsZS8ke3Rhc2suaWR9YCkNCiAgICAgICAgICANCiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAwKSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIoOmZpOWumuaXtuS7u+WKoeaIkOWKnycpDQogICAgICAgICAgICB0aGlzLmxvYWRUYXNrcygpDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8ICfliKDpmaTlrprml7bku7vliqHlpLHotKUnKQ0KICAgICAgICAgIH0NCiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICBjb25zb2xlLmVycm9yKCfliKDpmaTlrprml7bku7vliqHlpLHotKU6JywgZXJyb3IpDQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Yig6Zmk5a6a5pe25Lu75Yqh5aSx6LSlOiAnICsgZXJyb3IubWVzc2FnZSkNCiAgICAgICAgfQ0KICAgICAgfSkuY2F0Y2goKCkgPT4ge30pDQogICAgfSwNCg0KICAgIHZpZXdTY3JpcHQoc2NyaXB0SWQpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvc2NyaXB0cy8ke3NjcmlwdElkfWApDQogICAgfSwNCiAgICANCiAgICB2aWV3Q2hhaW4oY2hhaW5JZCkgew0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goYC9jaGFpbnMvJHtjaGFpbklkfWApDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["ScheduledTasks.vue"],"names":[],"mappings":";AA6MA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"ScheduledTasks.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"scheduled-tasks-container\">\r\n    <div class=\"page-header\">\r\n      <h1>定时任务</h1>\r\n      <el-button type=\"primary\" @click=\"openTaskForm()\">添加定时任务</el-button>\r\n    </div>\r\n\r\n    <el-card class=\"filter-card\">\r\n      <div class=\"filter-container\">\r\n        <el-radio-group v-model=\"activeFilter\" @change=\"loadTasks\">\r\n          <el-radio-button :label=\"null\">全部</el-radio-button>\r\n          <el-radio-button :label=\"1\">已启用</el-radio-button>\r\n          <el-radio-button :label=\"0\">已禁用</el-radio-button>\r\n        </el-radio-group>\r\n      </div>\r\n    </el-card>\r\n\r\n    <el-table\r\n      v-loading=\"loading\"\r\n      :data=\"tasks\"\r\n      stripe\r\n      style=\"width: 100%; margin-top: 20px\"\r\n    >\r\n      <el-table-column prop=\"id\" label=\"ID\" width=\"80\" />\r\n      <el-table-column prop=\"name\" label=\"任务名称\" min-width=\"180\" />\r\n      <el-table-column prop=\"schedule_type\" label=\"调度类型\" width=\"120\">\r\n        <template slot-scope=\"scope\">\r\n          {{ getScheduleTypeText(scope.row.schedule_type) }}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"cron_expression\" label=\"Cron表达式\" min-width=\"180\" />\r\n      <el-table-column label=\"执行对象\" min-width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <div v-if=\"scope.row.script_id\">\r\n            <el-link type=\"primary\" @click=\"viewScript(scope.row.script_id)\">\r\n              脚本: {{ scope.row.script_name || `#${scope.row.script_id}` }}\r\n            </el-link>\r\n          </div>\r\n          <div v-else-if=\"scope.row.chain_id\">\r\n            <el-link type=\"primary\" @click=\"viewChain(scope.row.chain_id)\">\r\n              脚本链: {{ scope.row.chain_name || `#${scope.row.chain_id}` }}\r\n            </el-link>\r\n          </div>\r\n          <div v-else>未设置</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"状态\" width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag :type=\"scope.row.is_active ? 'success' : 'info'\">\r\n            {{ scope.row.is_active ? '已启用' : '已禁用' }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"240\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button \r\n            size=\"small\"\r\n            type=\"success\" \r\n            plain\r\n            @click=\"toggleActive(scope.row)\"\r\n          >\r\n            {{ scope.row.is_active ? '禁用' : '启用' }}\r\n          </el-button>\r\n          <el-button \r\n            size=\"small\"\r\n            type=\"warning\" \r\n            plain\r\n            @click=\"openTaskForm(scope.row)\"\r\n          >\r\n            编辑\r\n          </el-button>\r\n          <el-button \r\n            size=\"small\"\r\n            type=\"danger\" \r\n            plain\r\n            @click=\"confirmDelete(scope.row)\"\r\n          >\r\n            删除\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 任务表单对话框 -->\r\n    <el-dialog\r\n      :title=\"editingTask.id ? '编辑定时任务' : '添加定时任务'\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"60%\"\r\n    >\r\n      <el-form \r\n        :model=\"editingTask\" \r\n        :rules=\"rules\" \r\n        ref=\"taskForm\" \r\n        label-width=\"120px\"\r\n      >\r\n        <el-form-item label=\"任务名称\" prop=\"name\">\r\n          <el-input v-model=\"editingTask.name\" placeholder=\"请输入任务名称\" />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"执行对象\" prop=\"execution_target\">\r\n          <el-radio-group v-model=\"executionTarget\" @change=\"handleTargetChange\">\r\n            <el-radio label=\"script\">脚本</el-radio>\r\n            <el-radio label=\"chain\">脚本链</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        \r\n        <el-form-item \r\n          label=\"选择脚本\" \r\n          prop=\"script_id\" \r\n          v-if=\"executionTarget === 'script'\"\r\n        >\r\n          <el-select \r\n            v-model=\"editingTask.script_id\" \r\n            filterable \r\n            placeholder=\"请选择脚本\"\r\n            style=\"width: 100%\"\r\n          >\r\n            <el-option \r\n              v-for=\"script in scripts\" \r\n              :key=\"script.id\" \r\n              :label=\"`${script.name} (${script.language})`\" \r\n              :value=\"script.id\" \r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n        \r\n        <el-form-item \r\n          label=\"选择脚本链\" \r\n          prop=\"chain_id\" \r\n          v-if=\"executionTarget === 'chain'\"\r\n        >\r\n          <el-select \r\n            v-model=\"editingTask.chain_id\" \r\n            filterable \r\n            placeholder=\"请选择脚本链\"\r\n            style=\"width: 100%\"\r\n          >\r\n            <el-option \r\n              v-for=\"chain in chains\" \r\n              :key=\"chain.id\" \r\n              :label=\"chain.name\" \r\n              :value=\"chain.id\" \r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"调度类型\" prop=\"schedule_type\">\r\n          <el-select v-model=\"editingTask.schedule_type\" placeholder=\"请选择调度类型\" style=\"width: 100%\">\r\n            <el-option label=\"Cron表达式\" value=\"cron\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"Cron表达式\" prop=\"cron_expression\">\r\n          <el-input v-model=\"editingTask.cron_expression\" placeholder=\"例如: 0 0 * * * (每天零点执行)\" />\r\n          <div class=\"hint-text\">\r\n            Cron表达式格式: 秒 分 时 日 月 星期<br />\r\n            例如:<br />\r\n            \"0 0 * * * *\" - 每小时整点执行<br />\r\n            \"0 0 0 * * *\" - 每天零点执行<br />\r\n            \"0 0 0 * * 1\" - 每周一零点执行<br />\r\n            \"0 0 12 1 * *\" - 每月1日中午12点执行\r\n          </div>\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"参数\" prop=\"params\">\r\n          <el-input \r\n            v-model=\"paramsString\" \r\n            type=\"textarea\" \r\n            :rows=\"5\" \r\n            placeholder='请以JSON格式输入参数，例如: {\"name\": \"value\"}'\r\n          />\r\n          <div class=\"hint-text\">JSON格式的参数，将传递给脚本或脚本链执行</div>\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"描述\" prop=\"description\">\r\n          <el-input \r\n            v-model=\"editingTask.description\" \r\n            type=\"textarea\" \r\n            :rows=\"3\" \r\n            placeholder=\"请输入任务描述\"\r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"状态\" v-if=\"editingTask.id\">\r\n          <el-switch\r\n            v-model=\"editingTask.is_active\"\r\n            :active-value=\"1\"\r\n            :inactive-value=\"0\"\r\n            active-text=\"启用\"\r\n            inactive-text=\"禁用\"\r\n          />\r\n        </el-form-item>\r\n      </el-form>\r\n      \r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"saveTask\" :loading=\"saving\">\r\n          保存\r\n        </el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'ScheduledTasksView',\r\n  data() {\r\n    return {\r\n      tasks: [],\r\n      scripts: [],\r\n      chains: [],\r\n      loading: false,\r\n      dialogVisible: false,\r\n      activeFilter: null,\r\n      saving: false,\r\n      executionTarget: 'script',\r\n      paramsString: '',\r\n      \r\n      editingTask: {\r\n        id: null,\r\n        name: '',\r\n        description: '',\r\n        schedule_type: 'cron',\r\n        cron_expression: '',\r\n        script_id: null,\r\n        chain_id: null,\r\n        params: null,\r\n        is_active: 1\r\n      },\r\n      \r\n      rules: {\r\n        name: [{ required: true, message: '请输入任务名称', trigger: 'blur' }],\r\n        schedule_type: [{ required: true, message: '请选择调度类型', trigger: 'change' }],\r\n        cron_expression: [{ required: true, message: '请输入Cron表达式', trigger: 'blur' }],\r\n        script_id: [{ \r\n          required: true, \r\n          message: '请选择脚本', \r\n          trigger: 'change',\r\n          validator: (rule, value, callback) => {\r\n            if (this.executionTarget === 'script' && !value) {\r\n              callback(new Error('请选择脚本'))\r\n            } else {\r\n              callback()\r\n            }\r\n          }\r\n        }],\r\n        chain_id: [{ \r\n          required: true, \r\n          message: '请选择脚本链', \r\n          trigger: 'change',\r\n          validator: (rule, value, callback) => {\r\n            if (this.executionTarget === 'chain' && !value) {\r\n              callback(new Error('请选择脚本链'))\r\n            } else {\r\n              callback()\r\n            }\r\n          }\r\n        }]\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    paramsString: {\r\n      handler(val) {\r\n        if (val) {\r\n          try {\r\n            this.editingTask.params = JSON.parse(val)\r\n          } catch (e) {\r\n            // 不是有效的JSON，保留字符串\r\n            console.log('参数不是有效的JSON格式')\r\n          }\r\n        } else {\r\n          this.editingTask.params = null\r\n        }\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.loadTasks()\r\n    this.loadScripts()\r\n    this.loadChains()\r\n  },\r\n  methods: {\r\n    async loadTasks() {\r\n      this.loading = true\r\n      try {\r\n        let url = '/api/schedule'\r\n        if (this.activeFilter !== null) {\r\n          url += `?is_active=${this.activeFilter}`\r\n        }\r\n        const response = await axios.get(url)\r\n        if (response.data.code === 0) {\r\n          this.tasks = response.data.data\r\n        } else {\r\n          this.$message.error(response.data.message || '获取定时任务列表失败')\r\n        }\r\n      } catch (error) {\r\n        console.error('加载定时任务失败:', error)\r\n        this.$message.error('加载定时任务失败: ' + error.message)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    \r\n    async loadScripts() {\r\n      try {\r\n        const response = await axios.get('/api/scripts')\r\n        if (response.data.code === 0) {\r\n          this.scripts = response.data.data\r\n        }\r\n      } catch (error) {\r\n        console.error('加载脚本列表失败:', error)\r\n      }\r\n    },\r\n    \r\n    async loadChains() {\r\n      try {\r\n        const response = await axios.get('/api/chains')\r\n        if (response.data.code === 0) {\r\n          this.chains = response.data.data\r\n        }\r\n      } catch (error) {\r\n        console.error('加载脚本链列表失败:', error)\r\n      }\r\n    },\r\n\r\n    getScheduleTypeText(type) {\r\n      const map = {\r\n        'cron': 'Cron表达式',\r\n        'interval': '时间间隔',\r\n        'date': '指定日期'\r\n      }\r\n      return map[type] || type\r\n    },\r\n\r\n    openTaskForm(task = null) {\r\n      this.resetForm()\r\n      \r\n      if (task) {\r\n        Object.assign(this.editingTask, task)\r\n        \r\n        // 设置执行目标\r\n        if (task.script_id) {\r\n          this.executionTarget = 'script'\r\n        } else if (task.chain_id) {\r\n          this.executionTarget = 'chain'\r\n        }\r\n        \r\n        // 将参数对象转为JSON字符串\r\n        if (task.params) {\r\n          if (typeof task.params === 'string') {\r\n            try {\r\n              this.paramsString = JSON.stringify(JSON.parse(task.params), null, 2)\r\n            } catch (e) {\r\n              this.paramsString = task.params\r\n            }\r\n          } else {\r\n            this.paramsString = JSON.stringify(task.params, null, 2)\r\n          }\r\n        } else {\r\n          this.paramsString = ''\r\n        }\r\n      }\r\n      \r\n      this.dialogVisible = true\r\n    },\r\n\r\n    resetForm() {\r\n      this.editingTask = {\r\n        id: null,\r\n        name: '',\r\n        description: '',\r\n        schedule_type: 'cron',\r\n        cron_expression: '',\r\n        script_id: null,\r\n        chain_id: null,\r\n        params: null,\r\n        is_active: 1\r\n      }\r\n      \r\n      this.executionTarget = 'script'\r\n      this.paramsString = ''\r\n      \r\n      if (this.$refs.taskForm) {\r\n        this.$refs.taskForm.resetFields()\r\n      }\r\n    },\r\n    \r\n    handleTargetChange(target) {\r\n      if (target === 'script') {\r\n        this.editingTask.chain_id = null\r\n      } else {\r\n        this.editingTask.script_id = null\r\n      }\r\n    },\r\n\r\n    async saveTask() {\r\n      if (!this.$refs.taskForm) return\r\n      \r\n      this.$refs.taskForm.validate(async (valid) => {\r\n        if (!valid) return\r\n        \r\n        // 检查执行目标是否已选择\r\n        if (!this.editingTask.script_id && !this.editingTask.chain_id) {\r\n          this.$message.warning('请选择脚本或脚本链')\r\n          return\r\n        }\r\n        \r\n        this.saving = true\r\n        \r\n        try {\r\n          // 准备要发送的数据\r\n          const taskData = { ...this.editingTask }\r\n          \r\n          // 处理参数\r\n          if (this.paramsString) {\r\n            try {\r\n              taskData.params = JSON.parse(this.paramsString)\r\n            } catch (e) {\r\n              this.$message.warning('参数格式不正确，请检查JSON格式')\r\n              this.saving = false\r\n              return\r\n            }\r\n          } else {\r\n            taskData.params = null\r\n          }\r\n          \r\n          let response\r\n          \r\n          if (this.editingTask.id) {\r\n            // 更新现有任务\r\n            response = await axios.put(`/api/schedule/${this.editingTask.id}`, taskData)\r\n          } else {\r\n            // 创建新任务\r\n            response = await axios.post('/api/schedule', taskData)\r\n          }\r\n          \r\n          if (response.data.code === 0) {\r\n            this.$message.success(response.data.message || '保存定时任务成功')\r\n            this.dialogVisible = false\r\n            this.loadTasks()\r\n          } else {\r\n            this.$message.error(response.data.message || '保存定时任务失败')\r\n          }\r\n        } catch (error) {\r\n          console.error('保存定时任务失败:', error)\r\n          this.$message.error('保存定时任务失败: ' + error.message)\r\n        } finally {\r\n          this.saving = false\r\n        }\r\n      })\r\n    },\r\n\r\n    async toggleActive(task) {\r\n      try {\r\n        const newStatus = task.is_active ? 0 : 1\r\n        const response = await axios.put(`/api/schedule/${task.id}/active`, {\r\n          is_active: newStatus\r\n        })\r\n        \r\n        if (response.data.code === 0) {\r\n          this.$message.success(response.data.message || `定时任务${newStatus ? '启用' : '禁用'}成功`)\r\n          this.loadTasks()\r\n        } else {\r\n          this.$message.error(response.data.message || '操作失败')\r\n        }\r\n      } catch (error) {\r\n        console.error('切换任务状态失败:', error)\r\n        this.$message.error('操作失败: ' + error.message)\r\n      }\r\n    },\r\n\r\n    confirmDelete(task) {\r\n      this.$confirm(\r\n        `确定要删除定时任务 \"${task.name}\" 吗？删除后将无法恢复。`,\r\n        '删除确认',\r\n        {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }\r\n      ).then(async () => {\r\n        try {\r\n          const response = await axios.delete(`/api/schedule/${task.id}`)\r\n          \r\n          if (response.data.code === 0) {\r\n            this.$message.success('删除定时任务成功')\r\n            this.loadTasks()\r\n          } else {\r\n            this.$message.error(response.data.message || '删除定时任务失败')\r\n          }\r\n        } catch (error) {\r\n          console.error('删除定时任务失败:', error)\r\n          this.$message.error('删除定时任务失败: ' + error.message)\r\n        }\r\n      }).catch(() => {})\r\n    },\r\n\r\n    viewScript(scriptId) {\r\n      this.$router.push(`/scripts/${scriptId}`)\r\n    },\r\n    \r\n    viewChain(chainId) {\r\n      this.$router.push(`/chains/${chainId}`)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.scheduled-tasks-container {\r\n  padding: 20px;\r\n}\r\n\r\n.page-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.filter-card {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.filter-container {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.hint-text {\r\n  font-size: 12px;\r\n  color: #909399;\r\n  margin-top: 5px;\r\n}\r\n</style>\r\n"]}]}