{"remainingRequest":"C:\\Users\\zhuyu\\Desktop\\study\\lijialu\\scipt\\frontend\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\zhuyu\\Desktop\\study\\lijialu\\scipt\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\zhuyu\\Desktop\\study\\lijialu\\scipt\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\zhuyu\\Desktop\\study\\lijialu\\scipt\\frontend\\src\\views\\Alerts.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\zhuyu\\Desktop\\study\\lijialu\\scipt\\frontend\\src\\views\\Alerts.vue","mtime":1747319151128},{"path":"C:\\Users\\zhuyu\\Desktop\\study\\lijialu\\scipt\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747314279003},{"path":"C:\\Users\\zhuyu\\Desktop\\study\\lijialu\\scipt\\frontend\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1747314323395},{"path":"C:\\Users\\zhuyu\\Desktop\\study\\lijialu\\scipt\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1747314279003},{"path":"C:\\Users\\zhuyu\\Desktop\\study\\lijialu\\scipt\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1747314281934}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBbGVydHNWaWV3JywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWxlcnRDb25maWdzOiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBhY3RpdmVGaWx0ZXI6IG51bGwsCiAgICAgIHNhdmluZzogZmFsc2UsCiAgICAgIHRlc3RpbmdFbWFpbDogZmFsc2UsCiAgICAgIGVkaXRpbmdBbGVydDogewogICAgICAgIGlkOiBudWxsLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBhbGVydF90eXBlOiAnJywKICAgICAgICBjb25kaXRpb25fdHlwZTogJycsCiAgICAgICAgY29uZGl0aW9uX3ZhbHVlOiAnJywKICAgICAgICBub3RpZmljYXRpb25fdHlwZTogJ2VtYWlsJywKICAgICAgICBub3RpZmljYXRpb25fY29uZmlnOiB7CiAgICAgICAgICBzbXRwX3NlcnZlcjogJycsCiAgICAgICAgICBzbXRwX3BvcnQ6IDU4NywKICAgICAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgICAgIHNlbmRlcjogJycsCiAgICAgICAgICByZWNpcGllbnRzOiAnJwogICAgICAgIH0sCiAgICAgICAgaXNfYWN0aXZlOiAxCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWRiuitpuWQjeensCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBhbGVydF90eXBlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5ZGK6K2m57G75Z6LJywKICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgICAgfV0sCiAgICAgICAgY29uZGl0aW9uX3R5cGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nmnaHku7bnsbvlnosnLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICBjb25kaXRpb25fdmFsdWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmnaHku7blgLwnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgbm90aWZpY2F0aW9uX3R5cGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6npgJrnn6XmlrnlvI8nLAogICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICB9XSwKICAgICAgICAnbm90aWZpY2F0aW9uX2NvbmZpZy5zbXRwX3NlcnZlcic6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaVTTVRQ5pyN5Yqh5ZmoJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgICdub3RpZmljYXRpb25fY29uZmlnLnNtdHBfcG9ydCc6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaVTTVRQ56uv5Y+jJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgICdub3RpZmljYXRpb25fY29uZmlnLnVzZXJuYW1lJzogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpVNNVFDnlKjmiLflkI0nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgJ25vdGlmaWNhdGlvbl9jb25maWcucGFzc3dvcmQnOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWlU01UUOWvhueggScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICAnbm90aWZpY2F0aW9uX2NvbmZpZy5zZW5kZXInOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5Y+R5Lu25Lq6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgICdub3RpZmljYXRpb25fY29uZmlnLnJlY2lwaWVudHMnOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5pS25Lu25Lq6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkQWxlcnRDb25maWdzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBsb2FkQWxlcnRDb25maWdzKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0cnkgewogICAgICAgIGxldCB1cmwgPSAnL2FwaS9hbGVydC9jb25maWcnOwogICAgICAgIGlmICh0aGlzLmFjdGl2ZUZpbHRlciAhPT0gbnVsbCkgewogICAgICAgICAgdXJsICs9IGA/aXNfYWN0aXZlPSR7dGhpcy5hY3RpdmVGaWx0ZXJ9YDsKICAgICAgICB9CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQodXJsKTsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgICB0aGlzLmFsZXJ0Q29uZmlncyA9IHJlc3BvbnNlLmRhdGEuZGF0YS5tYXAoY29uZmlnID0+ICh7CiAgICAgICAgICAgIC4uLmNvbmZpZywKICAgICAgICAgICAgYWxlcnRfdHlwZV90ZXh0OiB0aGlzLmdldEFsZXJ0VHlwZVRleHQoY29uZmlnLmFsZXJ0X3R5cGUpCiAgICAgICAgICB9KSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8ICfojrflj5blkYrorabphY3nva7liJfooajlpLHotKUnKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5Yqg6L295ZGK6K2m6YWN572u5aSx6LSlOicsIGVycm9yKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfliqDovb3lkYrorabphY3nva7lpLHotKU6ICcgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGdldEFsZXJ0VHlwZVRleHQodHlwZSkgewogICAgICBjb25zdCBtYXAgPSB7CiAgICAgICAgJ3NjcmlwdF9mYWlsZWQnOiAn6ISa5pys5omn6KGM5aSx6LSlJywKICAgICAgICAnc2NyaXB0X3RpbWVvdXQnOiAn6ISa5pys5omn6KGM6LaF5pe2JywKICAgICAgICAnY2hhaW5fZmFpbGVkJzogJ+mTvuW8j+S7u+WKoeWksei0pScsCiAgICAgICAgJ3N5c3RlbV9yZXNvdXJjZSc6ICfns7vnu5/otYTmupDlkYroraYnCiAgICAgIH07CiAgICAgIHJldHVybiBtYXBbdHlwZV0gfHwgdHlwZTsKICAgIH0sCiAgICBmb3JtYXRDb25kaXRpb24oY29uZmlnKSB7CiAgICAgIGlmICghY29uZmlnLmNvbmRpdGlvbl90eXBlIHx8ICFjb25maWcuY29uZGl0aW9uX3ZhbHVlKSB7CiAgICAgICAgcmV0dXJuICfmnKrorr7nva4nOwogICAgICB9CiAgICAgIGNvbnN0IGNvbmRpdGlvblR5cGVNYXAgPSB7CiAgICAgICAgJ2NvbnNlY3V0aXZlX2NvdW50JzogJ+i/nue7rScsCiAgICAgICAgJ2NwdV91c2FnZSc6ICdDUFXkvb/nlKjnjocgPicsCiAgICAgICAgJ21lbW9yeV91c2FnZSc6ICflhoXlrZjkvb/nlKjnjocgPicsCiAgICAgICAgJ2Rpc2tfdXNhZ2UnOiAn56OB55uY5L2/55So546HID4nCiAgICAgIH07CiAgICAgIGNvbnN0IHVuaXQgPSBjb25maWcuY29uZGl0aW9uX3R5cGUuaW5jbHVkZXMoJ3VzYWdlJykgPyAnJScgOiAn5qyhJzsKICAgICAgcmV0dXJuIGAke2NvbmRpdGlvblR5cGVNYXBbY29uZmlnLmNvbmRpdGlvbl90eXBlXSB8fCBjb25maWcuY29uZGl0aW9uX3R5cGV9ICR7Y29uZmlnLmNvbmRpdGlvbl92YWx1ZX0ke3VuaXR9YDsKICAgIH0sCiAgICBvcGVuQWxlcnRGb3JtKGFsZXJ0ID0gbnVsbCkgewogICAgICB0aGlzLnJlc2V0Rm9ybSgpOwogICAgICBpZiAoYWxlcnQpIHsKICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmVkaXRpbmdBbGVydCkuZm9yRWFjaChrZXkgPT4gewogICAgICAgICAgaWYgKGtleSA9PT0gJ25vdGlmaWNhdGlvbl9jb25maWcnICYmIGFsZXJ0W2tleV0pIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAvLyDop6PmnpDpgJrnn6XphY3nva4KICAgICAgICAgICAgICBjb25zdCBjb25maWcgPSB0eXBlb2YgYWxlcnRba2V5XSA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGFsZXJ0W2tleV0pIDogYWxlcnRba2V5XTsKCiAgICAgICAgICAgICAgLy8g56Gu5L+d5omA5pyJ5bGe5oCn6YO95a2Y5ZyoCiAgICAgICAgICAgICAgdGhpcy5lZGl0aW5nQWxlcnRba2V5XSA9IHsKICAgICAgICAgICAgICAgIHNtdHBfc2VydmVyOiAnJywKICAgICAgICAgICAgICAgIHNtdHBfcG9ydDogNTg3LAogICAgICAgICAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgICAgICAgICAgc2VuZGVyOiAnJywKICAgICAgICAgICAgICAgIHJlY2lwaWVudHM6ICcnLAogICAgICAgICAgICAgICAgLi4uY29uZmlnCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+ino+aekOmAmuefpemFjee9ruWksei0pTonLCBlKTsKICAgICAgICAgICAgICB0aGlzLmVkaXRpbmdBbGVydFtrZXldID0gewogICAgICAgICAgICAgICAgc210cF9zZXJ2ZXI6ICcnLAogICAgICAgICAgICAgICAgc210cF9wb3J0OiA1ODcsCiAgICAgICAgICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgICAgICAgICBzZW5kZXI6ICcnLAogICAgICAgICAgICAgICAgcmVjaXBpZW50czogJycKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKGFsZXJ0W2tleV0gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICB0aGlzLmVkaXRpbmdBbGVydFtrZXldID0gYWxlcnRba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIHJlc2V0Rm9ybSgpIHsKICAgICAgdGhpcy5lZGl0aW5nQWxlcnQgPSB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIGFsZXJ0X3R5cGU6ICcnLAogICAgICAgIGNvbmRpdGlvbl90eXBlOiAnJywKICAgICAgICBjb25kaXRpb25fdmFsdWU6ICcnLAogICAgICAgIG5vdGlmaWNhdGlvbl90eXBlOiAnZW1haWwnLAogICAgICAgIG5vdGlmaWNhdGlvbl9jb25maWc6IHsKICAgICAgICAgIHNtdHBfc2VydmVyOiAnJywKICAgICAgICAgIHNtdHBfcG9ydDogNTg3LAogICAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgICAgc2VuZGVyOiAnJywKICAgICAgICAgIHJlY2lwaWVudHM6ICcnCiAgICAgICAgfSwKICAgICAgICBpc19hY3RpdmU6IDEKICAgICAgfTsKICAgICAgaWYgKHRoaXMuJHJlZnMuYWxlcnRGb3JtKSB7CiAgICAgICAgdGhpcy4kcmVmcy5hbGVydEZvcm0ucmVzZXRGaWVsZHMoKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHNhdmVBbGVydENvbmZpZygpIHsKICAgICAgaWYgKCF0aGlzLiRyZWZzLmFsZXJ0Rm9ybSkgcmV0dXJuOwogICAgICB0aGlzLiRyZWZzLmFsZXJ0Rm9ybS52YWxpZGF0ZShhc3luYyB2YWxpZCA9PiB7CiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuOwogICAgICAgIHRoaXMuc2F2aW5nID0gdHJ1ZTsKICAgICAgICB0cnkgewogICAgICAgICAgLy8g5YeG5aSH6KaB5Y+R6YCB55qE5pWw5o2uCiAgICAgICAgICBjb25zdCBhbGVydERhdGEgPSB7CiAgICAgICAgICAgIC4uLnRoaXMuZWRpdGluZ0FsZXJ0CiAgICAgICAgICB9OwoKICAgICAgICAgIC8vIOehruS/nW5vdGlmaWNhdGlvbl9jb25maWfmmK/lrZfnrKbkuLIKICAgICAgICAgIGlmICh0eXBlb2YgYWxlcnREYXRhLm5vdGlmaWNhdGlvbl9jb25maWcgPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgIGFsZXJ0RGF0YS5ub3RpZmljYXRpb25fY29uZmlnID0gSlNPTi5zdHJpbmdpZnkoYWxlcnREYXRhLm5vdGlmaWNhdGlvbl9jb25maWcpOwogICAgICAgICAgfQogICAgICAgICAgbGV0IHJlc3BvbnNlOwogICAgICAgICAgaWYgKHRoaXMuZWRpdGluZ0FsZXJ0LmlkKSB7CiAgICAgICAgICAgIC8vIOabtOaWsOeOsOaciemFjee9rgogICAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnB1dChgL2FwaS9hbGVydC9jb25maWcvJHt0aGlzLmVkaXRpbmdBbGVydC5pZH1gLCBhbGVydERhdGEpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8g5Yib5bu65paw6YWN572uCiAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgnL2FwaS9hbGVydC9jb25maWcnLCBhbGVydERhdGEpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8ICfkv53lrZjlkYrorabphY3nva7miJDlip8nKTsKICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMubG9hZEFsZXJ0Q29uZmlncygpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNwb25zZS5kYXRhLm1lc3NhZ2UgfHwgJ+S/neWtmOWRiuitpumFjee9ruWksei0pScpOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCfkv53lrZjlkYrorabphY3nva7lpLHotKU6JywgZXJyb3IpOwogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5L+d5a2Y5ZGK6K2m6YWN572u5aSx6LSlOiAnICsgZXJyb3IubWVzc2FnZSk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIHRoaXMuc2F2aW5nID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBhc3luYyB0ZXN0RW1haWwoKSB7CiAgICAgIGlmICghdGhpcy5lZGl0aW5nQWxlcnQubm90aWZpY2F0aW9uX2NvbmZpZykgcmV0dXJuOwogICAgICBjb25zdCBjb25maWcgPSB0aGlzLmVkaXRpbmdBbGVydC5ub3RpZmljYXRpb25fY29uZmlnOwoKICAgICAgLy8g6aqM6K+B5b+F5aGr5a2X5q61CiAgICAgIGlmICghY29uZmlnLnNtdHBfc2VydmVyIHx8ICFjb25maWcuc210cF9wb3J0IHx8ICFjb25maWcudXNlcm5hbWUgfHwgIWNvbmZpZy5wYXNzd29yZCB8fCAhY29uZmlnLnNlbmRlciB8fCAhY29uZmlnLnJlY2lwaWVudHMpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+Whq+WGmeWujOaVtOeahOmCruS7tumFjee9ruS/oeaBrycpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLnRlc3RpbmdFbWFpbCA9IHRydWU7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KCcvYXBpL2FsZXJ0L3Rlc3QtZW1haWwnLCB7CiAgICAgICAgICBzbXRwX3NlcnZlcjogY29uZmlnLnNtdHBfc2VydmVyLAogICAgICAgICAgc210cF9wb3J0OiBjb25maWcuc210cF9wb3J0LAogICAgICAgICAgdXNlcm5hbWU6IGNvbmZpZy51c2VybmFtZSwKICAgICAgICAgIHBhc3N3b3JkOiBjb25maWcucGFzc3dvcmQsCiAgICAgICAgICBzZW5kZXI6IGNvbmZpZy5zZW5kZXIsCiAgICAgICAgICByZWNpcGllbnRzOiBjb25maWcucmVjaXBpZW50cwogICAgICAgIH0pOwogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5rWL6K+V6YKu5Lu25Y+R6YCB5oiQ5Yqf77yM6K+35qOA5p+l5pS25Lu2566xJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8ICfmtYvor5Xpgq7ku7blj5HpgIHlpLHotKUnKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5lcnJvcign5rWL6K+V6YKu5Lu25Y+R6YCB5aSx6LSlOicsIGVycm9yKTsKICAgICAgICBjb25zdCBlcnJvck1zZyA9IGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmRhdGEgJiYgZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlID8gZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlIDogZXJyb3IubWVzc2FnZTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmtYvor5Xpgq7ku7blj5HpgIHlpLHotKU6ICcgKyBlcnJvck1zZyk7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgdGhpcy50ZXN0aW5nRW1haWwgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHRvZ2dsZUFjdGl2ZShhbGVydCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IG5ld1N0YXR1cyA9IGFsZXJ0LmlzX2FjdGl2ZSA/IDAgOiAxOwogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucHV0KGAvYXBpL2FsZXJ0L2NvbmZpZy8ke2FsZXJ0LmlkfS9hY3RpdmVgLCB7CiAgICAgICAgICBpc19hY3RpdmU6IG5ld1N0YXR1cwogICAgICAgIH0pOwogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXNwb25zZS5kYXRhLm1lc3NhZ2UgfHwgYOWRiuitpumFjee9riR7bmV3U3RhdHVzID8gJ+WQr+eUqCcgOiAn56aB55SoJ33miJDlip9gKTsKICAgICAgICAgIHRoaXMubG9hZEFsZXJ0Q29uZmlncygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCAn5pON5L2c5aSx6LSlJyk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WIh+aNouWRiuitpueKtuaAgeWksei0pTonLCBlcnJvcik7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5pON5L2c5aSx6LSlOiAnICsgZXJyb3IubWVzc2FnZSk7CiAgICAgIH0KICAgIH0sCiAgICBjb25maXJtRGVsZXRlKGFsZXJ0KSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oYOehruWumuimgeWIoOmZpOWRiuitpumFjee9riAiJHthbGVydC5uYW1lfSIg5ZCX77yf5Yig6Zmk5ZCO5bCG5peg5rOV5oGi5aSN44CCYCwgJ+WIoOmZpOehruiupCcsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oYXN5bmMgKCkgPT4gewogICAgICAgIHRyeSB7CiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmRlbGV0ZShgL2FwaS9hbGVydC9jb25maWcvJHthbGVydC5pZH1gKTsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTlkYrorabphY3nva7miJDlip8nKTsKICAgICAgICAgICAgdGhpcy5sb2FkQWxlcnRDb25maWdzKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCAn5Yig6Zmk5ZGK6K2m6YWN572u5aSx6LSlJyk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+WIoOmZpOWRiuitpumFjee9ruWksei0pTonLCBlcnJvcik7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfliKDpmaTlkYrorabphY3nva7lpLHotKU6ICcgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKCgpID0+IHt9KTsKICAgIH0sCiAgICB2aWV3SGlzdG9yeShjb25maWdJZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL2FsZXJ0L2hpc3Rvcnk/Y29uZmlnX2lkPSR7Y29uZmlnSWR9YCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["axios","name","data","alertConfigs","loading","dialogVisible","activeFilter","saving","testingEmail","editingAlert","id","description","alert_type","condition_type","condition_value","notification_type","notification_config","smtp_server","smtp_port","username","password","sender","recipients","is_active","rules","required","message","trigger","created","loadAlertConfigs","methods","url","response","get","code","map","config","alert_type_text","getAlertTypeText","$message","error","console","type","formatCondition","conditionTypeMap","unit","includes","openAlertForm","alert","resetForm","Object","keys","forEach","key","JSON","parse","e","undefined","$refs","alertForm","resetFields","saveAlertConfig","validate","valid","alertData","stringify","put","post","success","testEmail","warning","errorMsg","toggleActive","newStatus","confirmDelete","$confirm","confirmButtonText","cancelButtonText","then","delete","catch","viewHistory","configId","$router","push"],"sources":["src/views/Alerts.vue"],"sourcesContent":["<template>\r\n  <div class=\"alerts-container\">\r\n    <div class=\"page-header\">\r\n      <h1>告警配置</h1>\r\n      <el-button type=\"primary\" @click=\"openAlertForm()\">添加告警</el-button>\r\n    </div>\r\n\r\n    <el-card class=\"filter-card\">\r\n      <div class=\"filter-container\">\r\n        <el-radio-group v-model=\"activeFilter\" @change=\"loadAlertConfigs\">\r\n          <el-radio-button :label=\"null\">全部</el-radio-button>\r\n          <el-radio-button :label=\"1\">已启用</el-radio-button>\r\n          <el-radio-button :label=\"0\">已禁用</el-radio-button>\r\n        </el-radio-group>\r\n      </div>\r\n    </el-card>\r\n\r\n    <el-table\r\n      v-loading=\"loading\"\r\n      :data=\"alertConfigs\"\r\n      stripe\r\n      style=\"width: 100%; margin-top: 20px\"\r\n    >\r\n      <el-table-column prop=\"id\" label=\"ID\" width=\"80\" />\r\n      <el-table-column prop=\"name\" label=\"告警名称\" min-width=\"180\" />\r\n      <el-table-column prop=\"alert_type_text\" label=\"告警类型\" width=\"120\" />\r\n      <el-table-column label=\"告警条件\" min-width=\"200\">\r\n        <template slot-scope=\"scope\">\r\n          <div>{{ formatCondition(scope.row) }}</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"通知方式\" width=\"120\">\r\n        <template slot-scope=\"scope\">\r\n          <div>{{ scope.row.notification_type === 'email' ? '邮件' : '其他' }}</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"状态\" width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <el-tag :type=\"scope.row.is_active ? 'success' : 'info'\">\r\n            {{ scope.row.is_active ? '已启用' : '已禁用' }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"240\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button \r\n            size=\"small\"\r\n            type=\"primary\" \r\n            plain\r\n            @click=\"viewHistory(scope.row.id)\"\r\n          >\r\n            历史记录\r\n          </el-button>\r\n          <el-button \r\n            size=\"small\"\r\n            type=\"success\" \r\n            plain\r\n            @click=\"toggleActive(scope.row)\"\r\n          >\r\n            {{ scope.row.is_active ? '禁用' : '启用' }}\r\n          </el-button>\r\n          <el-button \r\n            size=\"small\"\r\n            type=\"warning\" \r\n            plain\r\n            @click=\"openAlertForm(scope.row)\"\r\n          >\r\n            编辑\r\n          </el-button>\r\n          <el-button \r\n            size=\"small\"\r\n            type=\"danger\" \r\n            plain\r\n            @click=\"confirmDelete(scope.row)\"\r\n          >\r\n            删除\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 告警配置表单对话框 -->\r\n    <el-dialog\r\n      :title=\"editingAlert.id ? '编辑告警配置' : '添加告警配置'\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"60%\"\r\n    >\r\n      <el-form \r\n        :model=\"editingAlert\" \r\n        :rules=\"rules\" \r\n        ref=\"alertForm\" \r\n        label-width=\"120px\"\r\n      >\r\n        <el-form-item label=\"告警名称\" prop=\"name\">\r\n          <el-input v-model=\"editingAlert.name\" placeholder=\"请输入告警名称\" />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"告警类型\" prop=\"alert_type\">\r\n          <el-select v-model=\"editingAlert.alert_type\" placeholder=\"请选择告警类型\" style=\"width: 100%\">\r\n            <el-option label=\"脚本执行失败\" value=\"script_failed\" />\r\n            <el-option label=\"脚本执行超时\" value=\"script_timeout\" />\r\n            <el-option label=\"链式任务失败\" value=\"chain_failed\" />\r\n            <el-option label=\"系统资源告警\" value=\"system_resource\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"告警条件\" required>\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"8\">\r\n              <el-form-item prop=\"condition_type\">\r\n                <el-select v-model=\"editingAlert.condition_type\" placeholder=\"条件类型\" style=\"width: 100%\">\r\n                  <el-option label=\"连续次数\" value=\"consecutive_count\" />\r\n                  <el-option label=\"CPU使用率\" value=\"cpu_usage\" v-if=\"editingAlert.alert_type === 'system_resource'\" />\r\n                  <el-option label=\"内存使用率\" value=\"memory_usage\" v-if=\"editingAlert.alert_type === 'system_resource'\" />\r\n                  <el-option label=\"磁盘使用率\" value=\"disk_usage\" v-if=\"editingAlert.alert_type === 'system_resource'\" />\r\n                </el-select>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"16\">\r\n              <el-form-item prop=\"condition_value\">\r\n                <el-input v-model=\"editingAlert.condition_value\" placeholder=\"条件值\">\r\n                  <template slot=\"append\" v-if=\"editingAlert.condition_type && editingAlert.condition_type.includes('usage')\">%</template>\r\n                  <template slot=\"append\" v-else>次</template>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"通知方式\" prop=\"notification_type\">\r\n          <el-select v-model=\"editingAlert.notification_type\" placeholder=\"请选择通知方式\" style=\"width: 100%\">\r\n            <el-option label=\"邮件通知\" value=\"email\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        \r\n        <el-form-item \r\n          label=\"收件人\" \r\n          prop=\"notification_config.recipients\"\r\n          v-if=\"editingAlert.notification_type === 'email'\"\r\n        >\r\n          <el-input \r\n            v-model=\"editingAlert.notification_config.recipients\" \r\n            placeholder=\"多个收件人请用逗号分隔\" \r\n          />\r\n          <div class=\"hint-text\">多个收件人请用逗号分隔</div>\r\n        </el-form-item>\r\n        \r\n        <el-form-item \r\n          label=\"SMTP服务器\" \r\n          prop=\"notification_config.smtp_server\"\r\n          v-if=\"editingAlert.notification_type === 'email'\"\r\n        >\r\n          <el-input v-model=\"editingAlert.notification_config.smtp_server\" placeholder=\"例如: smtp.example.com\" />\r\n        </el-form-item>\r\n        \r\n        <el-form-item \r\n          label=\"SMTP端口\" \r\n          prop=\"notification_config.smtp_port\"\r\n          v-if=\"editingAlert.notification_type === 'email'\"\r\n        >\r\n          <el-input-number v-model=\"editingAlert.notification_config.smtp_port\" :min=\"1\" :max=\"65535\" />\r\n        </el-form-item>\r\n        \r\n        <el-form-item \r\n          label=\"SMTP用户名\" \r\n          prop=\"notification_config.username\"\r\n          v-if=\"editingAlert.notification_type === 'email'\"\r\n        >\r\n          <el-input v-model=\"editingAlert.notification_config.username\" placeholder=\"例如: user@example.com\" />\r\n        </el-form-item>\r\n        \r\n        <el-form-item \r\n          label=\"SMTP密码\" \r\n          prop=\"notification_config.password\"\r\n          v-if=\"editingAlert.notification_type === 'email'\"\r\n        >\r\n          <el-input \r\n            v-model=\"editingAlert.notification_config.password\"\r\n            placeholder=\"SMTP密码\" \r\n            show-password\r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item \r\n          label=\"发件人\" \r\n          prop=\"notification_config.sender\"\r\n          v-if=\"editingAlert.notification_type === 'email'\"\r\n        >\r\n          <el-input v-model=\"editingAlert.notification_config.sender\" placeholder=\"例如: Script Platform <noreply@example.com>\" />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"描述\" prop=\"description\">\r\n          <el-input \r\n            v-model=\"editingAlert.description\" \r\n            type=\"textarea\" \r\n            :rows=\"3\" \r\n            placeholder=\"请输入告警配置描述\"\r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"状态\" v-if=\"editingAlert.id\">\r\n          <el-switch\r\n            v-model=\"editingAlert.is_active\"\r\n            :active-value=\"1\"\r\n            :inactive-value=\"0\"\r\n            active-text=\"启用\"\r\n            inactive-text=\"禁用\"\r\n          />\r\n        </el-form-item>\r\n      </el-form>\r\n      \r\n      <div class=\"dialog-footer\" v-if=\"editingAlert.notification_type === 'email'\">\r\n        <el-button \r\n          type=\"primary\" \r\n          plain\r\n          @click=\"testEmail\" \r\n          :loading=\"testingEmail\"\r\n        >\r\n          测试邮件配置\r\n        </el-button>\r\n      </div>\r\n      \r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"saveAlertConfig\" :loading=\"saving\">\r\n          保存\r\n        </el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'AlertsView',\r\n  data() {\r\n    return {\r\n      alertConfigs: [],\r\n      loading: false,\r\n      dialogVisible: false,\r\n      activeFilter: null,\r\n      saving: false,\r\n      testingEmail: false,\r\n      \r\n      editingAlert: {\r\n        id: null,\r\n        name: '',\r\n        description: '',\r\n        alert_type: '',\r\n        condition_type: '',\r\n        condition_value: '',\r\n        notification_type: 'email',\r\n        notification_config: {\r\n          smtp_server: '',\r\n          smtp_port: 587,\r\n          username: '',\r\n          password: '',\r\n          sender: '',\r\n          recipients: ''\r\n        },\r\n        is_active: 1\r\n      },\r\n      \r\n      rules: {\r\n        name: [{ required: true, message: '请输入告警名称', trigger: 'blur' }],\r\n        alert_type: [{ required: true, message: '请选择告警类型', trigger: 'change' }],\r\n        condition_type: [{ required: true, message: '请选择条件类型', trigger: 'change' }],\r\n        condition_value: [{ required: true, message: '请输入条件值', trigger: 'blur' }],\r\n        notification_type: [{ required: true, message: '请选择通知方式', trigger: 'change' }],\r\n        'notification_config.smtp_server': [\r\n          { required: true, message: '请输入SMTP服务器', trigger: 'blur' }\r\n        ],\r\n        'notification_config.smtp_port': [\r\n          { required: true, message: '请输入SMTP端口', trigger: 'blur' }\r\n        ],\r\n        'notification_config.username': [\r\n          { required: true, message: '请输入SMTP用户名', trigger: 'blur' }\r\n        ],\r\n        'notification_config.password': [\r\n          { required: true, message: '请输入SMTP密码', trigger: 'blur' }\r\n        ],\r\n        'notification_config.sender': [\r\n          { required: true, message: '请输入发件人', trigger: 'blur' }\r\n        ],\r\n        'notification_config.recipients': [\r\n          { required: true, message: '请输入收件人', trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.loadAlertConfigs()\r\n  },\r\n  methods: {\r\n    async loadAlertConfigs() {\r\n      this.loading = true\r\n      try {\r\n        let url = '/api/alert/config'\r\n        if (this.activeFilter !== null) {\r\n          url += `?is_active=${this.activeFilter}`\r\n        }\r\n        const response = await axios.get(url)\r\n        if (response.data.code === 0) {\r\n          this.alertConfigs = response.data.data.map(config => ({\r\n            ...config,\r\n            alert_type_text: this.getAlertTypeText(config.alert_type)\r\n          }))\r\n        } else {\r\n          this.$message.error(response.data.message || '获取告警配置列表失败')\r\n        }\r\n      } catch (error) {\r\n        console.error('加载告警配置失败:', error)\r\n        this.$message.error('加载告警配置失败: ' + error.message)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n\r\n    getAlertTypeText(type) {\r\n      const map = {\r\n        'script_failed': '脚本执行失败',\r\n        'script_timeout': '脚本执行超时',\r\n        'chain_failed': '链式任务失败',\r\n        'system_resource': '系统资源告警'\r\n      }\r\n      return map[type] || type\r\n    },\r\n\r\n    formatCondition(config) {\r\n      if (!config.condition_type || !config.condition_value) {\r\n        return '未设置'\r\n      }\r\n\r\n      const conditionTypeMap = {\r\n        'consecutive_count': '连续',\r\n        'cpu_usage': 'CPU使用率 >',\r\n        'memory_usage': '内存使用率 >',\r\n        'disk_usage': '磁盘使用率 >'\r\n      }\r\n\r\n      const unit = config.condition_type.includes('usage') ? '%' : '次'\r\n      return `${conditionTypeMap[config.condition_type] || config.condition_type} ${config.condition_value}${unit}`\r\n    },\r\n\r\n    openAlertForm(alert = null) {\r\n      this.resetForm()\r\n      \r\n      if (alert) {\r\n        Object.keys(this.editingAlert).forEach(key => {\r\n          if (key === 'notification_config' && alert[key]) {\r\n            try {\r\n              // 解析通知配置\r\n              const config = typeof alert[key] === 'string' \r\n                ? JSON.parse(alert[key]) \r\n                : alert[key]\r\n              \r\n              // 确保所有属性都存在\r\n              this.editingAlert[key] = {\r\n                smtp_server: '',\r\n                smtp_port: 587,\r\n                username: '',\r\n                password: '',\r\n                sender: '',\r\n                recipients: '',\r\n                ...config\r\n              }\r\n            } catch (e) {\r\n              console.error('解析通知配置失败:', e)\r\n              this.editingAlert[key] = {\r\n                smtp_server: '',\r\n                smtp_port: 587,\r\n                username: '',\r\n                password: '',\r\n                sender: '',\r\n                recipients: ''\r\n              }\r\n            }\r\n          } else if (alert[key] !== undefined) {\r\n            this.editingAlert[key] = alert[key]\r\n          }\r\n        })\r\n      }\r\n      \r\n      this.dialogVisible = true\r\n    },\r\n\r\n    resetForm() {\r\n      this.editingAlert = {\r\n        id: null,\r\n        name: '',\r\n        description: '',\r\n        alert_type: '',\r\n        condition_type: '',\r\n        condition_value: '',\r\n        notification_type: 'email',\r\n        notification_config: {\r\n          smtp_server: '',\r\n          smtp_port: 587,\r\n          username: '',\r\n          password: '',\r\n          sender: '',\r\n          recipients: ''\r\n        },\r\n        is_active: 1\r\n      }\r\n      \r\n      if (this.$refs.alertForm) {\r\n        this.$refs.alertForm.resetFields()\r\n      }\r\n    },\r\n\r\n    async saveAlertConfig() {\r\n      if (!this.$refs.alertForm) return\r\n      \r\n      this.$refs.alertForm.validate(async (valid) => {\r\n        if (!valid) return\r\n        \r\n        this.saving = true\r\n        \r\n        try {\r\n          // 准备要发送的数据\r\n          const alertData = { ...this.editingAlert }\r\n          \r\n          // 确保notification_config是字符串\r\n          if (typeof alertData.notification_config === 'object') {\r\n            alertData.notification_config = JSON.stringify(alertData.notification_config)\r\n          }\r\n          \r\n          let response\r\n          \r\n          if (this.editingAlert.id) {\r\n            // 更新现有配置\r\n            response = await axios.put(`/api/alert/config/${this.editingAlert.id}`, alertData)\r\n          } else {\r\n            // 创建新配置\r\n            response = await axios.post('/api/alert/config', alertData)\r\n          }\r\n          \r\n          if (response.data.code === 0) {\r\n            this.$message.success(response.data.message || '保存告警配置成功')\r\n            this.dialogVisible = false\r\n            this.loadAlertConfigs()\r\n          } else {\r\n            this.$message.error(response.data.message || '保存告警配置失败')\r\n          }\r\n        } catch (error) {\r\n          console.error('保存告警配置失败:', error)\r\n          this.$message.error('保存告警配置失败: ' + error.message)\r\n        } finally {\r\n          this.saving = false\r\n        }\r\n      })\r\n    },\r\n\r\n    async testEmail() {\r\n      if (!this.editingAlert.notification_config) return\r\n      \r\n      const config = this.editingAlert.notification_config\r\n      \r\n      // 验证必填字段\r\n      if (!config.smtp_server || !config.smtp_port || !config.username || \r\n          !config.password || !config.sender || !config.recipients) {\r\n        this.$message.warning('请填写完整的邮件配置信息')\r\n        return\r\n      }\r\n      \r\n      this.testingEmail = true\r\n      \r\n      try {\r\n        const response = await axios.post('/api/alert/test-email', {\r\n          smtp_server: config.smtp_server,\r\n          smtp_port: config.smtp_port,\r\n          username: config.username,\r\n          password: config.password,\r\n          sender: config.sender,\r\n          recipients: config.recipients\r\n        })\r\n        \r\n        if (response.data.code === 0) {\r\n          this.$message.success('测试邮件发送成功，请检查收件箱')\r\n        } else {\r\n          this.$message.error(response.data.message || '测试邮件发送失败')\r\n        }\r\n      } catch (error) {\r\n        console.error('测试邮件发送失败:', error)\r\n        const errorMsg = error.response && error.response.data && error.response.data.message \r\n          ? error.response.data.message \r\n          : error.message;\r\n        this.$message.error('测试邮件发送失败: ' + errorMsg);\r\n      } finally {\r\n        this.testingEmail = false\r\n      }\r\n    },\r\n\r\n    async toggleActive(alert) {\r\n      try {\r\n        const newStatus = alert.is_active ? 0 : 1\r\n        const response = await axios.put(`/api/alert/config/${alert.id}/active`, {\r\n          is_active: newStatus\r\n        })\r\n        \r\n        if (response.data.code === 0) {\r\n          this.$message.success(response.data.message || `告警配置${newStatus ? '启用' : '禁用'}成功`)\r\n          this.loadAlertConfigs()\r\n        } else {\r\n          this.$message.error(response.data.message || '操作失败')\r\n        }\r\n      } catch (error) {\r\n        console.error('切换告警状态失败:', error)\r\n        this.$message.error('操作失败: ' + error.message)\r\n      }\r\n    },\r\n\r\n    confirmDelete(alert) {\r\n      this.$confirm(\r\n        `确定要删除告警配置 \"${alert.name}\" 吗？删除后将无法恢复。`,\r\n        '删除确认',\r\n        {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }\r\n      ).then(async () => {\r\n        try {\r\n          const response = await axios.delete(`/api/alert/config/${alert.id}`)\r\n          \r\n          if (response.data.code === 0) {\r\n            this.$message.success('删除告警配置成功')\r\n            this.loadAlertConfigs()\r\n          } else {\r\n            this.$message.error(response.data.message || '删除告警配置失败')\r\n          }\r\n        } catch (error) {\r\n          console.error('删除告警配置失败:', error)\r\n          this.$message.error('删除告警配置失败: ' + error.message)\r\n        }\r\n      }).catch(() => {})\r\n    },\r\n\r\n    viewHistory(configId) {\r\n      this.$router.push(`/alert/history?config_id=${configId}`)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.alerts-container {\r\n  padding: 20px;\r\n}\r\n\r\n.page-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.filter-card {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.filter-container {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.dialog-footer {\r\n  margin-top: 20px;\r\n  text-align: right;\r\n}\r\n\r\n.hint-text {\r\n  font-size: 12px;\r\n  color: #909399;\r\n  margin-top: 5px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}